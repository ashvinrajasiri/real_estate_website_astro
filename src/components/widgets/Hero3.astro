---
import Button from '~/components/ui/Button.astro';

import type { Hero as Props } from '~/types';

const {
  title = await Astro.slots.render('title'),
  subtitle = await Astro.slots.render('subtitle'),
  tagline,

  content = await Astro.slots.render('content'),
  actions = await Astro.slots.render('actions'),

  id,
  bg = await Astro.slots.render('bg'),
} = Astro.props;
---

<section class="relative not-prose" {...id ? { id } : {}}>
  <!-- Background Image -->
  <div class="absolute inset-0 -z-20" aria-hidden="true">
    <slot name="bg">
      {bg ? <Fragment set:html={bg} /> : null}
    </slot>
  </div>

  <!-- Gradient Overlay for Text Readability - Left to Right Scrim -->
  <div class="absolute inset-0 bg-gradient-to-r from-black/60 via-black/40 to-transparent dark:from-black/70 dark:via-black/50 dark:to-black/20 -z-10"></div>

  <!-- Left-Aligned Content -->
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6">
    <div class="pt-[112px] md:pt-[96px] 2xl:pt-[118px] pointer-events-none"></div>
    <div class="pt-8 pb-20 md:pt-8 md:pb-32">
      <div class="max-w-2xl text-left">
        {
          tagline && (
            <p
              class="text-base text-white/90 font-bold tracking-wide uppercase mb-4 intersect-once intersect-quarter motion-safe:md:opacity-0 motion-safe:md:intersect:animate-fade"
              set:html={tagline}
            />
          )
        }
        {
          title && (
            <h1
              class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold leading-tighter tracking-tighter mb-10 font-heading text-white text-balance intersect-once intersect-quarter motion-safe:md:opacity-0 motion-safe:md:intersect:animate-fade"
              set:html={title}
            />
          )
        }
        {
          subtitle && (
            <p
              class="text-lg sm:text-xl md:text-2xl text-white/95 mb-8 intersect-once intersect-quarter motion-safe:md:opacity-0 motion-safe:md:intersect:animate-fade"
              set:html={subtitle}
            />
          )
        }
        {
          actions && (
            <div class="flex flex-col sm:flex-row gap-4 intersect-once intersect-quarter motion-safe:md:opacity-0 motion-safe:md:intersect:animate-fade">
              {Array.isArray(actions) ? (
                actions.map((action) => (
                  <div class="flex">
                    <Button {...(action || {})} class="w-full sm:w-auto" />
                  </div>
                ))
              ) : (
                <Fragment set:html={actions} />
              )}
            </div>
          )
        }
        {content && <div class="mt-6 text-white/90"><Fragment set:html={content} /></div>}
      </div>
    </div>
  </div>
</section>
